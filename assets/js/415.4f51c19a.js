(window.webpackJsonp=window.webpackJsonp||[]).push([[415],{899:function(e,n,t){"use strict";t.r(n);var a=t(35),o=Object(a.a)({},(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"configuration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#configuration"}},[e._v("#")]),e._v(" Configuration")]),e._v(" "),t("h2",{attrs:{id:"nushell-configuration-with-config-nu"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nushell-configuration-with-config-nu"}},[e._v("#")]),e._v(" Nushell Configuration with "),t("code",[e._v("config.nu")])]),e._v(" "),t("p",[e._v("Nushell uses a configuration system that loads+runs a Nushell script file at launch time. That configuration file is called the "),t("code",[e._v("config.nu")]),e._v(" file, and the path to it can be found by calling "),t("code",[e._v("echo $nu.config-path")]),e._v(". "),t("code",[e._v("config.nu")]),e._v(" can add definitions, environment variables, and more to the global namespace.")]),e._v(" "),t("p",[e._v("An example "),t("code",[e._v("config.nu")]),e._v(" file can be found in our repo "),t("a",{attrs:{href:"https://github.com/nushell/nushell/blob/main/docs/sample_config/default_config.nu",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("h3",{attrs:{id:"configuring-config"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#configuring-config"}},[e._v("#")]),e._v(" Configuring "),t("code",[e._v("$config")])]),e._v(" "),t("p",[e._v("Nushell's main settings are kept in the global "),t("code",[e._v("$config")]),e._v(" variable as a record. This record can be created using:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("let $config = {\n  ...\n}\n")])])]),t("p",[e._v("You can also shadow "),t("code",[e._v("$config")]),e._v(" and update it:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("let $config = ($config | upsert <field name> <field value>)\n")])])]),t("h3",{attrs:{id:"environment"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#environment"}},[e._v("#")]),e._v(" Environment")]),e._v(" "),t("p",[e._v("You can set environment variables for the duration of a Nushell session using "),t("RouterLink",{attrs:{to:"/book/commands/let-env.html"}},[t("code",[e._v("let-env")])]),e._v(" calls inside the "),t("code",[e._v("config.nu")]),e._v(" file. For example:")],1),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("let-env FOO = 'BAR'\n")])])]),t("p",[e._v("These are some important variables to look at for Nushell-specific settings:")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("LS_COLORS")]),e._v(": Sets up colors per file type in ls")]),e._v(" "),t("li",[t("code",[e._v("PROMPT_COMMAND")]),e._v(": Code to execute for setting up the prompt (block or string)")]),e._v(" "),t("li",[t("code",[e._v("PROMPT_COMMAND_RIGHT")]),e._v(": Code to execute for setting up the right prompt (block)")]),e._v(" "),t("li",[t("code",[e._v('PROMPT_INDICATOR = "„Äâ"')]),e._v(': The indicator printed after the prompt (by default ">"-like Unicode symbol)')]),e._v(" "),t("li",[t("code",[e._v('PROMPT_INDICATOR_VI_INSERT = ": "')])]),e._v(" "),t("li",[t("code",[e._v('PROMPT_INDICATOR_VI_NORMAL = "„Äâ "')])]),e._v(" "),t("li",[t("code",[e._v('PROMPT_MULTILINE_INDICATOR = "::: "')])])]),e._v(" "),t("h3",{attrs:{id:"color-config-section"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#color-config-section"}},[e._v("#")]),e._v(" Color Config section")]),e._v(" "),t("p",[e._v("You can learn more about setting up colors and theming in the "),t("a",{attrs:{href:"https://github.com/nushell/nushell/blob/main/docs/How_To_Coloring_and_Theming.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("associated chapter"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("h2",{attrs:{id:"configuring-nu-as-a-login-shell"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#configuring-nu-as-a-login-shell"}},[e._v("#")]),e._v(" Configuring Nu as a login shell")]),e._v(" "),t("p",[e._v("To use Nu as a login shell, you'll need to configure the "),t("code",[e._v("$env")]),e._v(" variable. With this, you'll have enough support to run external commands as a login shell.")]),e._v(" "),t("p",[e._v("You can build the full set of environment variables by running Nu inside of another shell, like Bash. Once you're in Nu, you can run a command like this:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("> env | each { |it| echo $\"let-env ($it.name) = '($it.raw)'\" } | str collect (char nl)\n")])])]),t("p",[e._v("This will print out "),t("RouterLink",{attrs:{to:"/book/commands/let-env.html"}},[t("code",[e._v("let-env")])]),e._v(" lines, one for each environment variable along with its setting.")],1),e._v(" "),t("p",[e._v("Next, on some distros you'll also need to ensure Nu is in the /etc/shells list:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("> cat /etc/shells\n# /etc/shells: valid login shells\n/bin/sh\n/bin/dash\n/bin/bash\n/bin/rbash\n/usr/bin/screen\n/usr/bin/fish\n/home/jonathan/.cargo/bin/nu\n")])])]),t("p",[e._v("With this, you should be able to "),t("code",[e._v("chsh")]),e._v(" and set Nu to be your login shell. After a logout, on your next login you should be greeted with a shiny Nu prompt.")]),e._v(" "),t("h3",{attrs:{id:"macos-keeping-usr-bin-open-as-open"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#macos-keeping-usr-bin-open-as-open"}},[e._v("#")]),e._v(" macOS: Keeping "),t("code",[e._v("/usr/bin/open")]),e._v(" as "),t("code",[e._v("open")])]),e._v(" "),t("p",[e._v("Some tools (e.g. Emacs) rely on an "),t("code",[e._v("open")]),e._v(" command to open files on Mac.\nAs Nushell has its own "),t("RouterLink",{attrs:{to:"/book/commands/open.html"}},[t("code",[e._v("open")])]),e._v(" command which has different semantics and shadows "),t("code",[e._v("/usr/bin/open")]),e._v(", these tools will error out when trying to use it.\nOne way to work around this is to define "),t("code",[e._v("alias")]),e._v("es in your "),t("code",[e._v("config.nu")]),e._v(" file like this:")],1),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("alias nuopen = open\nalias open = ^open\n")])])]),t("h2",{attrs:{id:"prompt-configuration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#prompt-configuration"}},[e._v("#")]),e._v(" Prompt configuration")]),e._v(" "),t("h3",{attrs:{id:"starship"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#starship"}},[e._v("#")]),e._v(" Starship")]),e._v(" "),t("p",[e._v("Here's an example config section for starship:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('let-env STARSHIP_SHELL = "nu"\n\ndef create_left_prompt [] {\n    starship prompt --cmd-duration $env.CMD_DURATION_MS $\'--status=($env.LAST_EXIT_CODE)\'\n}\n\n# Use nushell functions to define your right and left prompt\nlet-env PROMPT_COMMAND = { create_left_prompt }\nlet-env PROMPT_COMMAND_RIGHT = ""\n\n# The prompt indicators are environmental variables that represent\n# the state of the prompt\nlet-env PROMPT_INDICATOR = ""\nlet-env PROMPT_INDICATOR_VI_INSERT = ": "\nlet-env PROMPT_INDICATOR_VI_NORMAL = "„Äâ"\nlet-env PROMPT_MULTILINE_INDICATOR = "::: "\n')])])]),t("p",[e._v("Now restart Nu.")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("nushell on üìô main is üì¶ v0.60.0 via ü¶Ä v1.59.0\n‚ùØ\n")])])])])}),[],!1,null,null,null);n.default=o.exports}}]);